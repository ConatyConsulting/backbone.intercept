// Backbone.Intercept v0.2.0

!function(a,b){if("function"==typeof define&&define.amd)define(["backbone","underscore"],function(a,c){return b(a,c)});else if("undefined"!=typeof exports){var c=require("backbone"),d=require("underscore");module.exports=b(c,d)}else b(a.Backbone,a._)}(this,function(a,b){"use strict";return a.Intercept={VERSION:"0.2.0",defaults:{trigger:!0,links:!0,forms:!0},start:function(a){a=b.defaults(a||{},this.defaults),a.links&&this._getBody().on("click.backboneIntercept","a",b.bind(this._interceptLinks,this)),a.forms&&this._getBody().on("submit.backboneIntercept",b.bind(this._interceptForms,this))},stop:function(){this._getBody().off(".backboneIntercept")},navigate:function(b,c){a.history.navigate(b,c)},_getBody:function(){return this._body?this._body:(this._body=$("body"),this._body)},_interceptForms:function(a){a.target&&a.target.action||a.preventDefault()},_interceptLinks:function(a){if(1===a.which){var b=$(a.currentTarget),c=b.attr("href");if(c){var d=this._getAttr(b,"bypass");if(void 0===d||"false"===d){var e={trigger:this.defaults.trigger},f=this._getAttr(b,"trigger");"false"===f?e.trigger=!1:"true"===f&&(e.trigger=!0),/^#|javascript:|mailto:|(?:\w+:)?\/\//.test(c)||(a.preventDefault(),this.navigate&&this.navigate(c,e))}}}},_getAttr:function(a,b){var c=a.attr(b);if(void 0!==c)return c;var d=a.attr("data-"+b);return void 0!==d?d:void 0}},a.Intercept});
//# sourceMappingURL=backbone.intercept.min.js.map